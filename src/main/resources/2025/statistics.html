<!DOCTYPE html>
<html lang="en">

<head>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,100..1000&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" href="../../../../styles.css">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 2025</title>
	<script src="https://cdn.plot.ly/plotly-2.24.2.min.js"></script>
</head>

<body>
	<a href="../../../../index.html">‚Üê –í—Å–µ –≥–æ–¥–∞</a>
	<h1>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 2025</h1>

	<!-- Table of Contents -->
	<div class="toc">
		<ul>
			<li><a href="#general">–û–±—â–µ–µ –∑–∞ —Å–µ–∑–æ–Ω</a></li>
			<li>
				<a href="#by-category-2025">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∑–∞ —Å–µ–∑–æ–Ω</a>
				<ul>
					<li><a href="#plot-by-sex">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–∑–æ–Ω –ø–æ –ø–æ–ª—É</a></li>
					<li><a href="#plot-by-license">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–∑–æ–Ω –ø–æ –Ω–∞–ª–∏—á–∏—é –ª–∏—Ü–µ–Ω–∑–∏–∏</a></li>
					<li><a href="#plot-by-ag">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–∑–æ–Ω –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º –≥—Ä—É–ø–ø–∞–º (—Å—Ä–µ–¥–∏ –ª–∏—Ü–µ–Ω–∑–∏–∞—Ç–æ–≤)</a></li>
					<li><a href="#plot-by-club">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–∑–æ–Ω –ø–æ –∫–ª—É–±–∞–º (—Å—Ä–µ–¥–∏ –ª–∏—Ü–µ–Ω–∑–∏–∞—Ç–æ–≤)</a></li>
				</ul>
			</li>
			<li>
				<a href="#by-event-category-2025">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è–º</a>
				<ul>
					<li><a href="#plot-by-event">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏</a></li>
					<li><a href="#plot-by-event-sex">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ –ø–æ–ª—É</a></li>
					<li><a href="#plot-by-event-license">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ –Ω–∞–ª–∏—á–∏—é –ª–∏—Ü–µ–Ω–∑–∏–∏</a></li>
					<li><a href="#plot-by-event-ag">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É (—Å—Ä–µ–¥–∏ –ª–∏—Ü–µ–Ω–∑–∏–∞—Ç–æ–≤)</a></li>
					<li><a href="#plot-by-event-club">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ –∫–ª—É–±—É (—Å—Ä–µ–¥–∏ –ª–∏—Ü–µ–Ω–∑–∏–∞—Ç–æ–≤)</a></li>
				</ul>
			</li>
			<li>
				<a href="#participation-stats-2025">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏</a>
				<ul>
					<li><a href="#plot-participation-stats-men">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ —á–∏—Å–ª—É –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π
							(–º—É–∂—á–∏–Ω—ã)</a></li>
					<li><a href="#list-participation-stats-men">–¢–æ–ø-5 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (–º—É–∂—á–∏–Ω—ã)</a></li>
					<li><a href="#plot-participation-stats-women">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ —á–∏—Å–ª—É –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π
							(–∂–µ–Ω—â–∏–Ω—ã)</a></li>
					<li><a href="#list-participation-stats-women">–¢–æ–ø-5 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (–∂–µ–Ω—â–∏–Ω—ã)</a></li>
				</ul>
			</li>
			<li>
				<a href="#comparison">üöÄ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ 2023, 2024 –∏ 2025 </a>
				<ul>
					<li><a href="#comparison-licenses">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–¥–∞–Ω–Ω—ã—Ö –ª–∏—Ü–µ–Ω–∑–∏–π –ø–æ –≥–æ–¥–∞–º</a></li>
					<li><a href="#comparison-participants">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –≥–æ–¥–∞–º</a></li>
			</li>
		</ul>
	</div>

	<h2 id="general">–û–±—â–µ–µ –∑–∞ —Å–µ–∑–æ–Ω</h2>
	<p>–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ –≤—Å–µ—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö: <span id="general-total-participants"></span></p>
	<p>–°—Ä–µ–¥–∏ –Ω–∏—Ö —Å –ª–∏—Ü–µ–Ω–∑–∏–µ–π: <span id="general-total-participants-with-license"></span></p>
	<p>–í—Å–µ–≥–æ –≤—ã–¥–∞–Ω–æ –ª–∏—Ü–µ–Ω–∑–∏–π: <span id="general-total-licenses"></span></p>

	<h2 id="by-category-2025">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∑–∞ —Å–µ–∑–æ–Ω</h2>
	<div id="plot-by-sex" style="width: 100%; height: 500px;"></div>
	<div id="plot-by-license" style="width: 100%; height: 500px;"></div>
	<div id="plot-by-ag" style="width: 100%; height: 500px;"></div>
	<div id="plot-by-club" style="width: 100%; height: 500px;"></div>

	<h2 id="by-event-category-2025">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è–º</h2>
	<div id="plot-by-event" style="width: 100%; height: 500px;"></div>
	<div id="plot-by-event-sex" style="width: 100%; height: 500px;"></div>
	<div id="plot-by-event-license" style="width: 100%; height: 500px;"></div>
	<div id="plot-by-event-ag" style="width: 100%; height: 500px;"></div>
	<div id="plot-by-event-club" style="width: 100%; height: 500px;"></div>

	<h2 id="participation-stats-2025">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏</h2>
	<div id="plot-participation-stats-men" style="width: 100%; height: 500px;"></div>
	<div id="list-participation-stats-men"></div>
	<div id="plot-participation-stats-women" style="width: 100%; height: 500px;"></div>
	<div id="list-participation-stats-women"></div>

	<h2 id="comparison">üöÄ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ 2023, 2024 –∏ 2025</h2>
	<div id="comparison-licenses" style="width: 100%; height: 500px;"></div>
	<div id="comparison-participants" style="width: 100%; height: 500px;"></div>

	<script>
		// Load data from both JSON files
		Promise.all([
			fetch('statistics_men.json').then(response => response.json()),
			fetch('statistics_women.json').then(response => response.json())
		])
			.then(([menData, womenData]) => {
				// Merge total data
				const totalData = {
					participants: menData.total.participants + womenData.total.participants,
					categories: {
						sex: {
							'–ú—É–∂—á–∏–Ω—ã': menData.total.participants,
							'–ñ–µ–Ω—â–∏–Ω—ã': womenData.total.participants
						},
						license: {
							'–° –ª–∏—Ü–µ–Ω–∑–∏–µ–π': menData.total.categories.license.licensed + womenData.total.categories.license.licensed,
							'–ë–µ–∑ –ª–∏—Ü–µ–Ω–∑–∏–∏': menData.total.categories.license.unlicensed + womenData.total.categories.license.unlicensed
						},
						ageGroup: (() => {
							const allKeys = Array.from(new Set([
								...Object.keys(menData.total.categories.ageGroup),
								...Object.keys(womenData.total.categories.ageGroup)
							]));
							return allKeys.reduce((acc, key) => {
								acc[key] = (menData.total.categories.ageGroup[key] || 0) + (womenData.total.categories.ageGroup[key] || 0);
								return acc;
							}, {});
						})(),
						club: (() => {
							const allKeys = Array.from(new Set([
								...Object.keys(menData.total.categories.club),
								...Object.keys(womenData.total.categories.club)
							]));
							return allKeys.reduce((acc, key) => {
								acc[key] = (menData.total.categories.club[key] || 0) + (womenData.total.categories.club[key] || 0);
								return acc;
							}, {});
						})(),
					}
				};

				document.getElementById('general-total-participants').textContent = totalData.participants;
				document.getElementById('general-total-participants-with-license').textContent = totalData.categories.license['–° –ª–∏—Ü–µ–Ω–∑–∏–µ–π'];
				document.getElementById('general-total-licenses').textContent = `${menData.unique.licenses + womenData.unique.licenses} (–º—É–∂—á–∏–Ω—ã: ${menData.unique.licenses}, –∂–µ–Ω—â–∏–Ω—ã: ${womenData.unique.licenses})`;

				const titleFontSize = 14;
				const legendFontSize = 12;
				const axisTitleFontSize = 10;

				// Draw total stacked bar chart by sex
				const sexTraces = Object.keys(totalData.categories.sex).map(key => ({
					y: [''],
					x: [totalData.categories.sex[key]],
					name: key,
					type: 'bar',
					orientation: 'h'
				}));

				Plotly.newPlot('plot-by-sex', sexTraces, {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–∑–æ–Ω –ø–æ –ø–æ–ª—É',
						font: { size: titleFontSize }
					},
					yaxis: {},
					xaxis: {},
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal'
					},
					margin: {
						l: 0,
						r: 0,
					},
					barmode: 'stack'
				});

				// Draw total stacked bar chart by license
				const licenseTraces = Object.keys(totalData.categories.license).map(key => ({
					y: [''],
					x: [totalData.categories.license[key]],
					name: key,
					type: 'bar',
					orientation: 'h'
				}));

				Plotly.newPlot('plot-by-license', licenseTraces, {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–∑–æ–Ω <br> –ø–æ –Ω–∞–ª–∏—á–∏—é –ª–∏—Ü–µ–Ω–∑–∏–∏',
						font: { size: titleFontSize }
					},
					yaxis: {},
					xaxis: {},
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal'
					},
					margin: {
						l: 0,
						r: 0,
					},
					barmode: 'stack'
				});

				// Draw total stacked bar chart by age group
				const ageGroupTotalKeys = Object.keys(totalData.categories.ageGroup).sort((a, b) => a.localeCompare(b, undefined, { numeric: true }));
				const ageGroupTotalTraces = ageGroupTotalKeys.map(key => ({
					y: [''],
					x: [totalData.categories.ageGroup[key]],
					name: key,
					type: 'bar',
					orientation: 'h'
				}));

				Plotly.newPlot('plot-by-ag', ageGroupTotalTraces, {
					title: {
						text: '–ö–æ–ª-–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–∑–æ–Ω <br> –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º –≥—Ä—É–ø–ø–∞–º (—Å—Ä–µ–¥–∏ –ª–∏—Ü–µ–Ω–∑–∏–∞—Ç–æ–≤)',
						font: { size: titleFontSize }
					},
					yaxis: {},
					xaxis: {},
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal'
					},
					margin: {
						l: 0,
						r: 0,
					},
					barmode: 'stack'
				});

				// Draw total stacked bar chart by club
				const clubTotalKeys = Object.keys(totalData.categories.club)
					.sort((a, b) => totalData.categories.club[b] - totalData.categories.club[a]);
				const clubTotalTraces = clubTotalKeys.map(key => ({
					y: [''],
					x: [totalData.categories.club[key]],
					name: key,
					type: 'bar',
					orientation: 'h'
				}));

				Plotly.newPlot('plot-by-club', clubTotalTraces, {
					title: {
						text: '–ö–æ–ª-–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–∑–æ–Ω <br> –ø–æ –∫–ª—É–±–∞–º (—Å—Ä–µ–¥–∏ –ª–∏—Ü–µ–Ω–∑–∏–∞—Ç–æ–≤)',
						font: { size: titleFontSize }
					},
					yaxis: {},
					xaxis: {},
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal'
					},
					margin: {
						l: 0,
						r: 0,
					},
					barmode: 'stack'
				});

				// Merge men and women data
				const mergedEvents = menData.events.map((menEvent, index) => {
					const womenEvent = womenData.events[index];
					return {
						name: menEvent.name,
						participants: menEvent.participants + womenEvent.participants,
						categories: {
							sex: {
								male: menEvent.participants,
								female: womenEvent.participants
							},
							license: {
								licensed: menEvent.categories.license.licensed + womenEvent.categories.license.licensed,
								unlicensed: menEvent.categories.license.unlicensed + womenEvent.categories.license.unlicensed
							},
							ageGroup: (() => {
								const allKeys = Array.from(new Set([
									...Object.keys(menEvent.categories.ageGroup),
									...Object.keys(womenEvent.categories.ageGroup)
								]));
								return allKeys.reduce((acc, key) => {
									acc[key] = (menEvent.categories.ageGroup[key] || 0) + (womenEvent.categories.ageGroup[key] || 0);
									return acc;
								}, {});
							})(),
							club: (() => {
								const allKeys = Array.from(new Set([
									...Object.keys(menEvent.categories.club),
									...Object.keys(womenEvent.categories.club)
								]));
								return allKeys.reduce((acc, key) => {
									acc[key] = (menEvent.categories.club[key] || 0) + (womenEvent.categories.club[key] || 0);
									return acc;
								}, {});
							})()
						}
					};
				});

				// Extract event names
				const eventNames = mergedEvents.map(event => event.name);

				// Overall participants plot
				const overallCounts = mergedEvents.map(event => event.participants);
				Plotly.newPlot('plot-by-event', [{
					x: eventNames,
					y: overallCounts,
					type: 'bar',
					marker: { color: 'steelblue' }
				}], {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏',
						font: { size: titleFontSize }
					},
					xaxis: {},
					yaxis: { title: { text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', font: { size: axisTitleFontSize } } },
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal',
					},
					margin: {
						l: 40,
						r: 0,
					}
				});

				// Participants by sex
				const maleCounts = mergedEvents.map(event => event.categories.sex.male);
				const femaleCounts = mergedEvents.map(event => event.categories.sex.female);
				Plotly.newPlot('plot-by-event-sex', [
					{ x: eventNames, y: maleCounts, name: '–ú—É–∂—á–∏–Ω—ã', type: 'bar' },
					{ x: eventNames, y: femaleCounts, name: '–ñ–µ–Ω—â–∏–Ω—ã', type: 'bar' }
				], {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ –ø–æ–ª—É',
						font: { size: titleFontSize }
					},
					xaxis: {},
					yaxis: { title: { text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', font: { size: axisTitleFontSize } } },
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal',
						y: -1
					},
					barmode: 'stack',
					margin: {
						l: 40,
						r: 0,
					}
				});

				// Participants by license
				const licensedCounts = mergedEvents.map(event => event.categories.license.licensed);
				const unlicensedCounts = mergedEvents.map(event => event.categories.license.unlicensed);
				Plotly.newPlot('plot-by-event-license', [
					{ x: eventNames, y: licensedCounts, name: '–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ', type: 'bar' },
					{ x: eventNames, y: unlicensedCounts, name: '–ù–µ–ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ', type: 'bar' }
				], {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏ <br> –ø–æ –Ω–∞–ª–∏—á–∏—é –ª–∏—Ü–µ–Ω–∑–∏–∏',
						font: { size: titleFontSize }
					},
					xaxis: {},
					yaxis: { title: { text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', font: { size: axisTitleFontSize } } },
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal',
						y: -1
					},
					barmode: 'stack',
					margin: {
						l: 40,
						r: 0,
					}
				});

				// Participants by age group
				const ageGroupKeys = Array.from(new Set(mergedEvents.flatMap(event => Object.keys(event.categories.ageGroup))))
					.sort((a, b) => a.localeCompare(b, undefined, { numeric: true }));
				const ageGroupTraces = ageGroupKeys.map(key => ({
					x: eventNames,
					y: mergedEvents.map(event => event.categories.ageGroup[key]),
					name: key, // Use the key as the legend name
					type: 'bar'
				}));

				Plotly.newPlot('plot-by-event-ag', ageGroupTraces, {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏ <br> –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É (—Å—Ä–µ–¥–∏ –ª–∏—Ü–µ–Ω–∑–∏–∞—Ç–æ–≤)',
						font: { size: titleFontSize }
					},
					xaxis: {},
					yaxis: { title: { text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', font: { size: axisTitleFontSize } } },
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal',
						y: -1
					},
					barmode: 'stack',
					margin: {
						l: 40,
						r: 0,
					}
				});

				// Participants by club
				const clubKeys = clubTotalKeys;
				const clubTraces = clubKeys.map(key => ({
					x: eventNames,
					y: mergedEvents.map(event => event.categories.club[key]),
					name: key, // Use the key as the legend name
					type: 'bar'
				}));

				Plotly.newPlot('plot-by-event-club', clubTraces, {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–∏ <br> –ø–æ –∫–ª—É–±—É (—Å—Ä–µ–¥–∏ –ª–∏—Ü–µ–Ω–∑–∏–∞—Ç–æ–≤)',
						font: { size: titleFontSize }
					},
					xaxis: { tickfont: { size: 8 } },
					yaxis: { title: { text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', font: { size: axisTitleFontSize } } },
					legend: {
						font: { size: 6 },
						traceorder: 'normal',
					},
					barmode: 'stack',
					margin: {
						l: 40,
						r: 0,
					}
				});

				// Comparison
				const licensesComparisonTraces = [{
					x: [2023, 2024, 2025],
					y: [103, 97, menData.unique.licenses],
					text: [103, 97, menData.unique.licenses],
					name: '–ú—É–∂—á–∏–Ω—ã',
					type: 'bar'
				}, {
					x: [2023, 2024, 2025],
					y: [14, 16, womenData.unique.licenses],
					text: [14, 16, womenData.unique.licenses],
					name: '–ñ–µ–Ω—â–∏–Ω—ã',
					type: 'bar'
				}];

				Plotly.newPlot('comparison-licenses', licensesComparisonTraces, {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–¥–∞–Ω–Ω—ã—Ö –ª–∏—Ü–µ–Ω–∑–∏–π –ø–æ –≥–æ–¥–∞–º <br> (–Ω–µ—Ç —Ä–æ—Å—Ç–∞)',
						font: { size: titleFontSize }
					},
					xaxis: {},
					yaxis: { title: { text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–¥–∞–Ω–Ω—ã—Ö –ª–∏—Ü–µ–Ω–∑–∏–π', font: { size: axisTitleFontSize } } },
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal'
					},
					barmode: 'stack',
					margin: {
						l: 40,
						r: 0,
					}
				});

				const participantsComparisonTraces = [{
					x: [2023, 2024, 2025],
					y: [382, 430, totalData.categories.license['–° –ª–∏—Ü–µ–Ω–∑–∏–µ–π']], // 2023 and 2024 calculated in corresponding ratings Excels as an amount of non-zero cells
					text: [382, 430, totalData.categories.license['–° –ª–∏—Ü–µ–Ω–∑–∏–µ–π']],
					name: '–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ',
					type: 'bar'
				}, {
					x: [2023, 2024, 2025],
					y: [1211, 1410, totalData.participants], // 2023 and 2024 was calculated by @tylindus manually, so I'm just taking this from his presentation
					text: [1211, 1410, totalData.participants], 
					name: '–í—Å–µ–≥–æ',
					type: 'bar'
				}];

				Plotly.newPlot('comparison-participants', participantsComparisonTraces, {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –≥–æ–¥–∞–º <br> (–µ—Å—Ç—å —Ä–æ—Å—Ç 100-200 —á–µ–ª–æ–≤–µ–∫ –≤ –≥–æ–¥)',
						font: { size: titleFontSize }
					},
					xaxis: {},
					yaxis: { title: { text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', font: { size: axisTitleFontSize } } },
					legend: {
						font: { size: legendFontSize },
						orientation: 'h',
						traceorder: 'normal'
					},
					margin: {
						l: 40,
						r: 0,
					}
				});

				// Participation men
				const participationHistogramMen = menData.amountOfParticipations.histogram;
				const participationKeysMen = Object.keys(participationHistogramMen).map(Number).sort((a, b) => a - b);
				const participationCountsMen = participationKeysMen.map(key => participationHistogramMen[key]);

				Plotly.newPlot('plot-participation-stats-men', [{
					x: participationKeysMen,
					y: participationCountsMen,
					type: 'bar',
					marker: { color: 'lightblue' }
				}], {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ <br> –ø–æ —á–∏—Å–ª—É –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π (–º—É–∂—á–∏–Ω—ã)',
						font: { size: titleFontSize }
					},
					xaxis: { title: { text: '–ß–∏—Å–ª–æ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π', font: { size: axisTitleFontSize } }, tickvals: participationKeysMen },
					yaxis: { title: { text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', font: { size: axisTitleFontSize } } },
					margin: { l: 40, r: 0 }
				});

				const topList = menData.amountOfParticipations.bestParticipants
					.map(p => `<li>${p.fioInRussian} ‚Äî ${p.participations} —Å—Ç–∞—Ä—Ç–æ–≤</li>`)
					.join('');
				const topListHtml = `
					<h4>–¢–æ–ø-5 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (–º—É–∂—á–∏–Ω—ã)</h4>
					<ul>${topList}</ul>
				`;
				document.getElementById('list-participation-stats-men').insertAdjacentHTML('beforeend', topListHtml);

				const participationHistogramWomen = womenData.amountOfParticipations.histogram;
				const participationKeysWomen = Object.keys(participationHistogramWomen).map(Number).sort((a, b) => a - b);
				const participationCountsWomen = participationKeysWomen.map(key => participationHistogramWomen[key]);

				Plotly.newPlot('plot-participation-stats-women', [{
					x: participationKeysWomen,
					y: participationCountsWomen,
					type: 'bar',
					marker: { color: 'pink' }
				}], {
					title: {
						text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ <br> –ø–æ —á–∏—Å–ª—É –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π (–∂–µ–Ω—â–∏–Ω—ã)',
						font: { size: titleFontSize }
					},
					xaxis: { title: { text: '–ß–∏—Å–ª–æ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π', font: { size: axisTitleFontSize } }, tickvals: participationKeysWomen },
					yaxis: { title: { text: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤', font: { size: axisTitleFontSize } } },
					margin: { l: 40, r: 0 }
				});

				const topListWomen = womenData.amountOfParticipations.bestParticipants
					.map(p => `<li>${p.fioInRussian} ‚Äî ${p.participations} —Å—Ç–∞—Ä—Ç–æ–≤</li>`)
					.join('');
				const topListHtmlWomen = `
					<h4>–¢–æ–ø-5 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (–∂–µ–Ω—â–∏–Ω—ã)</h4>
					<ul>${topListWomen}</ul>
				`;
				document.getElementById('list-participation-stats-women').insertAdjacentHTML('beforeend', topListHtmlWomen);
			})
			.catch(error => console.error('Error loading data:', error));
	</script>
</body>

</html>